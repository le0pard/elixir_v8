{"name":"ElixirV8","tagline":"V8 engine for Elixir with pools","body":"# ElixirV8\r\n\r\nV8 engine for [Elixir](http://elixir-lang.org/) with pools.\r\n\r\n## Examples\r\n\r\nApplication start:\r\n\r\n```\r\nElixirV8.start\r\n```\r\nor add it in `application` section in mix:\r\n\r\n```\r\ndef application do\r\n  [mod: {Example, []},\r\n   applications: [ :elixir_v8 ] ]\r\nend\r\n```\r\n\r\n### Create pools\r\n\r\n```\r\nElixirV8.create_pool(:default, 10)\r\n```\r\n\r\nWhere `:default` is name of poll and `10` is size of pool.\r\n\r\nAlso you can configure ElixirV8 directly from configuration file to get pools automatically created at application startup. In `config/config.exs`, add :\r\n\r\n```\r\nconfig :elixir_v8, pools: [\r\n  test_pool:   [{:size, 10}],\r\n  test_pool_2: [{:size, 20}]\r\n]\r\n```\r\n\r\n#### Load js libs to v8\r\n\r\nYou also can load js libs to each v8 engine in pool:\r\n\r\n```\r\njs_undescore_lib = Mix.Project.app_path <> \"/priv/underscore-min.js\"\r\n\r\nElixirV8.create_pool(:main, 10, [{:file, js_undescore_lib}])\r\n```\r\n\r\nUsing config in mix:\r\n\r\n```\r\njs_undescore_lib = Mix.Project.app_path <> \"/priv/underscore-min.js\"\r\njs_other_lib = Mix.Project.app_path <> \"/priv/some-another-lib.js\"\r\n\r\nconfig :elixir_v8,\r\n  pools: [\r\n    main: [\r\n      {:size, 10},\r\n      {:max_overflow, 10},\r\n      {:file, js_undescore_lib},\r\n      {:file, js_other_lib}\r\n    ]\r\n  ]\r\n\r\n```\r\n\r\n### Delete pools\r\n\r\n```\r\nElixirV8.delete_pool(:default)\r\n\r\nElixirV8.delete_pool(:test)\r\n```\r\n\r\n### Usage\r\n\r\nUsage of pools (`eval` js code):\r\n\r\n```\r\niex(2)> ElixirV8.eval({:global, :main}, \"1+2\")\r\n{:ok, 3}\r\niex(3)> ElixirV8.eval({:global, :main}, \"1+2+3\")\r\n{:ok, 6}\r\n```\r\n\r\nMethod `eval_function` is execute function body with some arguments:\r\n\r\n```\r\niex(4)> ElixirV8.eval_function({:global, :main}, \"return data + 13\", [13])\r\n{:ok, 26}\r\niex(6)> ElixirV8.eval_function({:global, :main}, \"return data * 13\", [20])\r\n{:ok, 260}\r\niex(8)> ElixirV8.eval_function({:global, :main}, \"return arguments[0] * arguments[1]\", [20, 5])\r\n{:ok, 100}\r\n```\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Add some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create new Pull Request\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}